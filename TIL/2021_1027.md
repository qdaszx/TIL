## 오늘 뭐했지

<br>

1. 자바스크립트 ES6+ Spread, Rest에 대해서 공부 (강의)
2. 리팩토링 2판 Chapter01 예시를 따라서 리팩토링 (책)

<br>

## 복습한 내용

<br>

> 🚨 제가 공부한 내용이 매우 틀릴 수 있습니다.

<br>

> ## 엔진 관점의 핵심 키워드에 대해서 복습했습니다.

<br>

엔진 처리는 크게 해석과 실행으로 나눕니다.

    해석은 컴파일과 실행할 환경을 설정하는 것
    실행은 해석 단계에서 설정된 환경을 바탕으로 코드를 실행하는 것

따라서 실행 환경을 만드는 것(해석)은 함수가 호출되기 전에도, 후에도 할 수 있습니다.

실행이라는 것은 함수가 호출된 다음에 하는 것인데, 그러한 묶음, 덩어리를 **콘텍스트**라고 합니다.

즉, 함수라는 단위를 어떻게 묶음, 덩어리로 가져갈 것이냐를 말합니다.

    예를 들어서 여러 묶음의 함수에 있는 내용들을 분산 시킨다면 안에 있는 변수들을 갖고와 쓸려면 복잡해지지만, 하나에 묶음 안에 즉, 콘텍스트 안에 함수에서 발생할 수 있는 것을 모두 다 집어 넣는다면 심플합니다.

함수가 호출되었을 때, 어떻게 실행하는 묶음을 가져갈 것이냐? 라는 것이 **실행 콘텍스트**입니다.

<br>

## 실행 콘텍스트를 왜 묶음으로 가져가야 할까?

<br>

왜냐하면 **식별자 해결 결정(Identifier Resolution)** 때문입니다.

**식별자 해결**은 함수가 호출 되었을 때, 함수 이름을 찾거나 변수 이름을 찾고 쓸 수 있게 해주는 것을 말합니다.

쉽게 말하면 식별자를 찾기 쉽게(식별자 해결) 실행 콘텍스트를 한 묶음으로 설정한다면 엔진 처리도 심플하고 메모리 사용도 적습니다.

식별자 해결에서 파생된 단어가 **스코프**입니다. 식별자가 어디에 있느냐, 구조적으로 가져간 것 입니다.

그런데 그 구조적으로 가져간 것도 엔진 관점에서 본다면 부담스럽습니다.

그게 바로 **스코프 체인**이고 부담되는 이유는 콘텍스트 개념으로 올라와서 메모리에서 실행하고 있는데 스코프 체인이라는 개념으로 다시 어딘가에서 끌고와야 한다는 것은 부담이 된다는 것 입니다. 콘텍스트 개념에서 벗어납니다.

단일 스코프로 가져가서 실행 콘텍스트 안에 하나의 묶음 안에 필요한 것들을 다 선언한다면 엔진도 심플하게 처리할 수 있고 빠릅니다. 이러한 개념이 바로 콘텍스트 개념입니다.

어째든 이것은 궁극적으로 **식별자 해결**을 위한 것 입니다.

> 함수 이름, 변수 이름을 어떻게 빨리 찾을 것이냐, 그리고 실행할거냐, 분산되지 않고 콘텍스트 개념으로 하나의 덩어리 안에서 하겠다는 것이 엔진에 기본적인 방향입니다.

결국은 식별자 해결을 하기 위해서 콘텍스트가 필요한 것이고, 함수가 호출되었을 때 식별자 해결하게 되니까 실행 콘텍스트라고 하나의 묶음으로 묶어버린 것입니다.

<br>

## 이것을 얼마 만큼 가져갈 것인가? 이걸 어떤 단위로 가져갈 것인가?

<br>

ES3에서는 스코프 체인이라는 개념을 썼고, ES5에서는 **렉시컬 환경**이라는 개념을 썼습니다.

스코프 체인 개념과 렉시컬 환경 개념은 콘텍스트가 다르기 때문에 엄청난 큰 차이입니다.

추후에 구체적으로 복습해보겠습니다.

<br>

---

내 머리로는 이해했는데... 글로는 설명 못하는 나는...ㅜㅜㅜ

실행 콘텍스트라는 묶음 안에 식별자 해결을 위한 콘텍스트들이 있다. (콘텍스트를 구조적으로 본 것을 스코프라고 한다.)

함수를 호출 할 때 식별자 해결을 위해서 필요한 변수가 하나의 콘텍스트 안에 있다면 한번에 해결이 가능하다

그런데 스코프 체인은 여기 저기 찾으러 나선다면 다른 콘텍스트를 끌어 올려야 하고 이것들이 많아지면 복잡해지고 메모리 사용도 많아진다.

이러한 스코프 체인과 많은 차이점이 있는 ES5 렉시컬 환경은 하나의 콘텍스트를 추구한다(정적인 것을 추구한다).

결론적으로 실행 콘텍스트가 중요한 이유는 식별자 해결때문에 중요하다.

실행 콘텍스트가 중요한 이유를 들었을 때 가슴이 웅장해졌지만 내가 정말정말 정확하게 이해하지 못하고 있다고 느낀다. 일단 배우는 내용을 계속해서 머리에 박힐 때까지 듣고 볼 예정이다.

내일은 오늘 추상적으로 말한 부분을 조금 더 구체적으로 복습해봐야겠다.
