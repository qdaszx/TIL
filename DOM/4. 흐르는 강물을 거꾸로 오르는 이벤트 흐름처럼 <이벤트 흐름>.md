# 흐르는 강물을 거꾸로 오르는 이벤트 흐름처럼 <이벤트 흐름>

> 이벤트 흐름은 연어와 같다!

## 브라우저가 사용자의 입력을 받았을 때 어떤 일이 일어날까요?

### 그림과 설명으로 자세히 알아봅시다!

## 1. 브라우저 화면에서 이벤트가 발생합니다.

- ### 이때 브라우저 관점에서의 이벤트란, 마우스 클릭 뿐만 아니라 마우스 휠의 움직임, 마우스 포인터의 이동, 화면을 터치하는 등 모든 종류의 사용자 제스처를 말합니다.

## 2. 이벤트가 발생했을 때 브라우저가 제일 먼저 하는 일은 이벤트 대상을 찾는 일입니다.

- ### 이벤트가 발생한 좌표에 무엇이 있는지 확인하기 위해 렌더링과 정중의 하나인 페인트 기록을 찾아봅니다.

## 3. 캡처링 단계

- ### 페인트 기록을 통해 좌표를 알아낸 브라우저는 해당 좌표에 위치한 요소의 이벤트 리스너를 실행합니다. 이 과정을 캡처링 단계(capturing phases)라고 합니다.

<img width="600" alt="스크린샷 2021-09-20 오후 9 19 02" src="https://user-images.githubusercontent.com/81012135/134001059-28052be3-6c08-4af7-9cae-09c94b9c2d56.png">

- ### 이때 타겟 요소의 가장 최상위 window 객체로부터 캡처링 단계의 이벤트 리스너가 등록이 되어 있는지 확인하고, 있다면 실행합니다. 그리고 계속 자식 요소로 전파되며 만나는 캡처링 이벤트 리스너를 실행하고 결국 타겟요소까지 이동합니다.

## 4. 버블링 단계

<img width="600" alt="스크린샷 2021-09-20 오후 9 21 45" src="https://user-images.githubusercontent.com/81012135/134001399-e67b5186-35fc-40b1-8865-2306a18c50c8.png">

- ### 캡처링이 끝나고, 최초에 이벤트가 발생했던 요소에 버블링 이벤트 리스너가 있다면 실행합니다. 그리고 다음 직계 부모 요소에 버블링 이벤트 리스너가 있다면 실행시키며 가장 최상위 window 객체까지 계속 전파됩니다.
